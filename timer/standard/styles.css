/* ===================== Fonts ===================== */
/* Default clock face (optional, if file exists) */
@font-face {
  font-family: "FancyCatPX";
  src: url("fonts/FancyCatPX.woff2") format("woff2"),
       url("fonts/FancyCatPX.ttf") format("truetype");
  font-display: swap;
}

/* System-embedded choices for the CLOCK (modal UI is separate) */
@font-face {
  font-family: "SystemWin";
  src: url("fonts/Segoe%20UI%20regular.ttf") format("truetype");
  font-display: swap;
}
@font-face {
  font-family: "SystemAndroid";
  src: url("fonts/Roboto-Regular.ttf") format("truetype");
  font-display: swap;
}
@font-face {
  font-family: "SystemApple";
  src: url("fonts/SanFranciscoDisplay-Regular.otf") format("opentype");
  font-display: swap;
}

/* ===================== Base ===================== */
:root{
  --bg:#000; --fg:#fff; --muted:#aaa; --ring:#a0a0a0;
  --accent-yellow:#ffff55; --flash-red:#ff0000;
  --clock-vw: 8vw;                     /* size step uses this */
  --clock-font: "FancyCatPX", system-ui, "Segoe UI", Arial, sans-serif;
  --modal-system: system-ui, "Segoe UI", Roboto, -apple-system, BlinkMacSystemFont, Arial, sans-serif;
}

html,body{height:100%}
body{
  margin:0;background:var(--bg);color:var(--fg);
  display:grid;place-items:center;
  font-family: var(--modal-system); /* UI fallback */
}

/* ===================== Timer Layout ===================== */
.timer-app{display:grid;gap:16px;place-items:center}

.clock-row{
  display:flex; align-items:center; gap:min(2vw,24px);
}

h1 {
    text-align: center;
}

.prefix-text{
  color:#ffd400; font-weight:800;
  font-family: var(--clock-font);
  font-size: var(--clock-vw);
  line-height:1; user-select:none;
}

.prefix-icon{
  width: calc(var(--clock-vw) * 0.95);
  height:auto; display:none; user-select:none;
}

#timerDisplay{
  font-family: var(--clock-font);
  font-size: var(--clock-vw);
  line-height:1;
  letter-spacing:0.04em;
  margin:0;
  user-select:none; cursor:default;
  text-shadow:0 0 1px rgba(255,255,255,.12);
}

/* Edit field placed above the display */
#timerInput{
  position:absolute; inset:auto;
  font-family: var(--clock-font);
  font-size: var(--clock-vw);
  line-height:1; letter-spacing:0.04em;
  padding:.15em .3em;
  background:rgba(0,0,0,1); color:var(--fg);
  text-align:center; display:none;
  transform: translateY(-.2em);
}

.controls button{font:inherit}

/* Monochar spans for stable widths */
.monochar{display:inline-block;width:.78em;text-align:center}
.monochar--sep{width:.50em}

/* Flash */
.flash-on{color:var(--flash-red)}

/* Settings button */
.icon-btn{background:none;border:0;cursor:pointer}
.icon{width:24px;height:24px;display:block}
#settingsBtn{position:absolute;top:10px;left:10px}

/* ===================== Modal (centered, no dim) ===================== */
.modal{position:fixed;inset:0;display:none;z-index:1000}
.modal.show{display:flex;align-items:flex-start;justify-content:center}

.modal-content{
  position:relative;
  width:min(860px,92vw);
  margin-top:6vh;
  padding:20px 20px 22px;
  background:#101010; color:#fff;
  border:6px solid var(--ring);
  border-radius:22px; box-shadow:0 18px 60px rgba(0,0,0,.55);
  font-family: var(--modal-system);
}

/* Close button (top-right inside) */
.close-btn{position:absolute;top:10px;right:12px;border-radius:10px;padding:6px}
.close-btn:hover{background:rgba(255,255,255,.08)}

/* Header */
.settings-header{
  display:grid;grid-template-columns:auto 1fr;gap:12px;align-items:center;margin-bottom:12px
}
.font-header-icon{width:26px;height:26px;opacity:.9}
.font-header-text{font-size:22px;font-weight:800;letter-spacing:.06em; text-align: center;}

/* Form rows */
.row{display:flex;gap:12px;margin:10px 0}
.row.center{justify-content:center;align-items:center}
.row.wrap{flex-wrap:wrap}
.row-split{display:grid;grid-template-columns:1fr auto;gap:12px}
.full{width:100%}

.stack{display:flex;flex-direction:column;gap:6px}
.section-title{margin:14px 0 6px;font-size:16px;font-weight:800;letter-spacing:.04em}
.linkish{color:#77a7ff;text-decoration:underline;cursor:pointer}
.muted{color:var(--muted)} .small{font-size:.95em} .tiny{font-size:.85em}

/* Show-on-clock: stacked lines, centered */
.checks{display:flex;flex-direction:column;gap:6px;align-items:center}

/* Inputs width sane */
select,input[type="url"],input[type="text"],button.setting-input{font:inherit;line-height:1.25}
#musicUrlInput{width:100%}
.size-label{min-width:2ch;text-align:center;font-weight:800}
.chip{background:#333;color:#fff;border:1px solid #666;border-radius:10px;padding:2px 10px;font-weight:700;cursor:pointer}
.chip:hover{background:#3a3a3a}

/* Mobile tweak */
@media (max-width:480px){
  :root{ --clock-vw: 16vw; }
  .modal-content{width:min(680px,96vw);margin-top:4vh;padding:16px}
}

/* Modal card can be offset via CSS vars */
.modal-content {
  /* your existing stylesâ€¦ */
  --modal-x: 0px;
  --modal-y: 0px;
  transform: translate(var(--modal-x), var(--modal-y));
  cursor: grab;              /* default: black area is draggable */
}

/* While dragging, show grabbing cursor */
.modal-content.dragging { cursor: grabbing; }

/* Interactive elements use normal cursor; they don't start a drag */
.modal-content input,
.modal-content select,
.modal-content textarea,
.modal-content button,
.modal-content label,
.modal-content a,
.modal-content [contenteditable="true"],
.modal-content .nodrag {
  cursor: auto;
}

/* (Optional) Prevent accidental text selection while dragging */
.modal-content.dragging, 
.modal-content.dragging * {
  user-select: none;
}

/* Show-on-clock checks layout */
.checks {
  display: flex;
  flex-direction: column;
  gap: 8px;
  align-items: center;            /* center the row */
}

.check-auto {
  font-weight: 700;
}

.check-line {
  display: flex;
  align-items: baseline;
  gap: 10px;
  font-weight: 800;
  letter-spacing: .04em;
}

.check-line label {
  display: inline-flex;
  align-items: baseline;
  gap: 6px;
}

.sep {
  opacity: .85;
  min-width: .6em;
  text-align: center;
}

/* Dim & disable when Auto is on (your JS can toggle this class) */
label.disabled-checkbox {
  opacity: .5;
}