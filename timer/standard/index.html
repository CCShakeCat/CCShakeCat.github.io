<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Timer — Standard</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <!-- Settings (gear) -->
  <button id="settingsBtn" class="icon-btn" aria-label="Settings">
    <img class="icon" src="./icons/gear.png" alt="" />
  </button>

  <!-- Timer UI -->
  <div class="timer-app">
    <div class="clock-row">
      <div id="prefixWrap">
        <div id="prefixText">TIME</div>
        <img id="prefixIcon" src="./icons/clock.png" alt="" />
      </div>
      <div id="timerDisplay" aria-live="polite">00:09:59.39</div>
    </div>

    <!-- Editable overlay -->
    <input id="timerInput" type="text" autocomplete="off" spellcheck="false" aria-label="Set timer (HH:MM:SS.TT)" />

    <div class="buttons">
      <button id="startPauseBtn">Start</button>
      <button id="resetBtn">Reset</button>
    </div>
  </div>

  <!-- YouTube IFrame API -->
  <script src="https://www.youtube.com/iframe_api"></script>

  <!-- Modal -->
  <div id="settingsModal" class="modal" aria-hidden="true">
    <div id="modalCard" class="modal-content">
      <button id="closeSettings" class="close-btn" aria-label="Close">
        <img class="icon" src="./icons/cross-button.png" alt="×">
      </button>

      <!-- MAIN PAGE -->
      <section id="page-main" class="modal-page active">
        <h2 class="lbl" style="text-align:center;margin:0 0 6px;">OPTIONS</h2>

        <div class="stack">
          <label class="lbl" for="fontSelect" style="text-align:center;">Font:</label>
          <div class="row center">
            <select id="fontSelect" class="grow">
              <option value="default">Default</option>
              <option value="system">System</option>
              <option value="custom">Custom</option>
            </select>

            <label id="importCustomFont" class="chip" for="customFontFile" role="button" tabindex="0" style="cursor:pointer;">
              Import Custom font…
            </label>
            <input id="customFontFile" type="file" accept=".ttf,.otf,.woff,.woff2" style="display:none;" />
          </div>

          <div id="customFontNotice" class="tiny muted" style="display:none;text-align:center;">
            <span id="customFontName">Loaded: —</span><br>
            If the font doesn’t change immediately, try refreshing.
          </div>

          <div class="row center size-row" style="margin-top:6px;">
            <span class="lbl">Size</span>
          </div>
          <div class="row center size-row">
            <button id="sizePrev" class="chip">◀</button>
            <span id="sizeLabel" class="size-label">3</span>
            <button id="sizeNext" class="chip">▶</button>
          </div>

          <div class="row center" style="margin-top:8px;">
            <button id="openStyle" class="chip grow">Customize Style ></button>
          </div>

          <!-- Music URL + status -->
          <div class="row center" style="margin-top:6px;">
            <input id="musicUrlInput" class="grow" type="text" placeholder="Paste YouTube, or direct audio URL…" />
            <button id="musicUrlSubmitBtn" class="chip">Submit</button>

            <div class="status-wrapper">
              <button id="musicStatusBtn" class="status-btn" aria-label="Music status">
                <img id="musicStatusIcon" src="./icons/question.png" alt="" />
              </button>
              <div id="musicStatusTip" class="status-tip">No music</div>
            </div>
          </div>

          <!-- Mini players INSIDE the modal -->
          <div class="music-players" style="margin-top:6px;">
            <audio id="bgAudio" controls style="display:none; width:100%;"></audio>
            <div id="ytWrap" style="display:none; width:100%; margin-top:6px; border-radius:10px; overflow:hidden;">
              <!-- Centered mini player -->
              <div id="ytPlayer" style="width:50%; aspect-ratio:16 / 9; margin:0 auto;"></div>
            </div>
          </div>

          <div class="row center" style="margin-top:6px;">
            <button id="openHurry" class="chip grow">Customize Hurry-Up ></button>
          </div>
      </section>

      <!-- STYLE PAGE -->
      <section id="page-style" class="modal-page">
        <h2 class="lbl" style="text-align:center;margin:0 0 6px;">Clock Customization</h2>

        <div class="stack">
          <div class="lbl" style="text-align:center;">Show on Clock:</div>
          <div class="row center inline-cb align-center">
            <label><input id="showAuto" type="checkbox"> Auto — hide what is zero</label>
          </div>
          <div class="row center inline-cb align-center">
            <label><input id="showHours" type="checkbox" checked> <b>HH</b></label>
            <span class="sep">:</span>
            <label><input id="showMinutes" type="checkbox" checked> <b>MM</b></label>
            <span class="sep">:</span>
            <label><input id="showSeconds" type="checkbox" checked> <b>SS</b></label>
            <span class="sep">.</span>
            <label><input id="showTicks" type="checkbox" checked> <b>TT</b></label>
          </div>

          <div class="row center align-center" style="margin-top:8px;">
            <label class="lbl" for="tpsSelect">Tick Rate:</label>
            <select id="tpsSelect">
              <option>10</option>
              <option>20</option>
              <option>30</option>
              <option selected>40 (Default)</option>
              <option>50</option>
              <option>60</option>
              <option>70</option>
              <option>80</option>
              <option>90</option>
              <option>100</option>
            </select>
            <span>TPS</span>
          </div>

          <div class="row center align-center">
            <label class="lbl" for="styleSelect">Prefix:</label>
            <select id="styleSelect">
              <option value="default">Default</option>
              <option value="time">Text</option>
              <option value="icon">Icon</option>
            </select>
          </div>

          <!-- Direction summary -->
          <div class="stack" style="margin-top:12px;">
            <div class="row center align-center">
              <span class="lbl">Count</span>
              <button id="directionBtn_style" class="chip">FROM</button>
              <span class="target-time" id="directionTarget_style">00:00:00.00</span>
              <span class="muted"> (ends at <span id="directionEnds_style">00:00:00.00</span>)</span>
            </div>
          </div>

          <div class="row center" style="margin-top:10px;">
            <button id="backFromStyle" class="chip">&lt; Back</button>
          </div>
        </div>
      </section>

      <!-- HURRY PAGE -->
      <section id="page-hurry" class="modal-page">
        <h2 class="lbl" style="text-align:center;margin:0 0 6px;">Hurry Up Customization</h2>

        <div class="stack">
          <div class="row center align-center">
            <label class="lbl">Game style:</label>
            <select id="hurryUpMain"></select>
            <label class="lbl">Substyle:</label>
            <select id="hurryUpSub"></select>
          </div>
          <div id="hurryUpDesc" class="tiny faint" style="text-align:center;margin-top:-4px;"></div>

          <!-- Hurry-Up Volume -->
          <div class="row center align-center" style="margin-top:10px;">
            <label class="lbl" for="hurryVolume">Hurry Up Volume</label>
            <input
              id="hurryVolume"
              type="range"
              min="0"
              max="100"
              value="100"
              style="flex:1;max-width:260px;margin:0 8px;"
            />
            <span id="hurryVolumeLabel" class="tiny">100%</span>
          </div>

          <!-- Ten-second countdown toggle -->
          <div class="row center align-center" style="margin-top:6px;">
            <label class="lbl" for="tenSecondBeep">Count Down Ten Seconds</label>
            <input
              id="tenSecondBeep"
              type="checkbox"
              style="margin-left:8px;"
            />
          </div>
          <hr style="border:0;border-top:1px solid #333;margin:10px 0 0;">

          <div class="row center align-center" style="margin-top:10px;">
            <label class="lbl" for="flashMode">Flash on Last Minute</label>
            <select id="flashMode" class="grow">
              <option value="nothing">Nothing</option>
              <option value="prefix">Prefix</option>
              <option value="time">Time</option>
              <option value="all">All</option>
            </select>
          </div>

          <div class="row center align-center">
            <span class="lbl">Start flash at</span>
            <select id="flashType">
              <option value="time" selected>Time</option>
              <option value="percent">%</option>
            </select>
            <input id="flashValue" type="text" placeholder="Default: 00:01:00 (One Minute)" />
          </div>

          <div class="row center" style="margin-top:10px;">
            <button id="backFromHurry" class="chip">&lt; Back</button>
          </div>
        </div>
      </section>
    </div>
  </div>

  <script src="./script.js"></script>
</body>
</html>
